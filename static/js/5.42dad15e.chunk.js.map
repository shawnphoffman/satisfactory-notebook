{"version":3,"sources":["components/Fraction.js","components/Ingredient.js","components/Recipe.js"],"names":["SmallPart","styled","span","Fraction","fraction","indexOf","splits","split","hasWhole","includes","whole","numer","denom","memo","Rate","perMinFraction","perMin","useContext","AppContext","fractions","CycleRate","perCycle","perCycleLabel","cycleAmount","CycleAmount","Ingredient","slug","amount","duration","itemDef","getItemDefinition","rate","calculateRate","form","Wrapper","Header","icon","Image","src","getItemIcon","alt","name","width","height","Name","href","Quantity","perMinLabel","div","img","a","Recipe","recipe","getRecipeDefinition","validProducers","React","useMemo","producedIn","filter","p","handcraftingProducers","has","length","building","getBuildingName","id","Secondary","Title","IngredientsWrapper","Column","ingredients","map","i","manufacturingDuration","Arrow","products","h2"],"mappings":"mTAGA,IAAMA,EAAYC,IAAOC,KAAV,KAITC,EAAW,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACnB,IAAKA,EAAU,OAAO,KAEtB,GAAIA,EAASC,QAAQ,KAAO,EAAG,OAAOD,EAEtC,IAAME,EAASF,EAASG,MAAM,KACxBC,EAAWJ,EAASK,SAAS,KAC7BC,EAAQF,EAAWF,EAAO,GAAK,KAC/BK,EAAQH,EAAWF,EAAO,GAAGC,MAAM,KAAK,GAAKD,EAAO,GAAGC,MAAM,KAAK,GAClEK,EAAQJ,EAAWF,EAAO,GAAGC,MAAM,KAAK,GAAKD,EAAO,GAAGC,MAAM,KAAK,GAExE,OACC,qCACEG,GAAK,UAAOA,EAAP,KACN,eAACV,EAAD,WACC,8BAAMW,IADP,SAC0B,8BAAMC,IADhC,cAOYC,iBAAKV,G,i2BCnBpB,IAGMW,EAAOD,gBAAK,YAAiC,IAA9BE,EAA6B,EAA7BA,eAAgBC,EAAa,EAAbA,OAAa,EACzBC,qBAAWC,KAA1BC,EADwC,oBACxCA,UACT,OAAO,iCAASA,EAAY,cAAC,EAAD,CAAUf,SAAUW,IAAqBC,OAIhEI,EAAYP,gBAAK,YAAkC,IAA/BQ,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,cAAoB,EAC7BL,qBAAWC,KACrC,OAFuD,oBAC9CK,YAGR,eAACC,EAAD,WACEH,EACAC,KAJsB,QAUpBG,EAAa,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,KAAMC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SAC7BC,EAAUC,YAAkBJ,GAC5BK,EAAOC,YAAcL,EAAQC,EAA2B,IAAjBC,EAAQI,MAErD,OACC,eAACC,EAAD,WACC,eAACC,EAAD,WACEN,EAAQO,KAAO,cAACC,EAAD,CAAOC,IAAKC,YAAYb,GAAOc,IAAKX,EAAQY,KAAMC,MA5BpD,GA4BsEC,OA5BtE,KA4B8F,KAC5G,cAACvB,EAAD,CAAWE,cAAeS,EAAKT,cAAeD,SAAUU,EAAKV,WAC7D,cAACuB,EAAD,CAAMC,KAAI,WAAMnB,GAAhB,SAAyBG,EAAQY,UAElC,eAACK,EAAD,WACC,cAAChC,EAAD,CAAME,OAAQe,EAAKf,OAAQD,eAAgBgB,EAAKhB,iBAChD,gCAAQgB,EAAKgB,mBARDrB,IAcDb,iBAAKY,GAEdS,EAAUjC,IAAO+C,IAAV,KAWPb,EAASlC,IAAO+C,IAAV,KAONX,EAAQpC,IAAOgD,IAAV,IA5DO,OAmEZL,EAAO3C,IAAOiD,EAAV,KAIJ1B,EAAcvB,IAAOC,KAAV,KAIX4C,EAAW7C,IAAO+C,IAAV,K,wxCC5Ed,IAAMG,EAAS,SAAC,GAAc,IAAZzB,EAAW,EAAXA,KACX0B,EAASC,YAAoB3B,GAQ7B4B,EAAiBC,IAAMC,SAAQ,kBAAMJ,EAAOK,WAAWC,QAAO,SAAAC,GAAC,OAAKC,IAAsBC,IAAIF,QAAK,CAACP,EAAOK,aACjH,GAA8B,IAA1BH,EAAeQ,OAAc,OAAO,KAExC,IAAMC,EAAWC,YAAgBV,EAAe,IAEhD,OACC,eAAC,EAAD,CAASW,GAAIvC,EAAb,UACC,eAAC,EAAD,WACC,cAACwC,EAAD,mBACA,cAACC,EAAD,UAAQf,EAAOX,OACf,cAACyB,EAAD,UAAYH,OAEb,eAACK,EAAD,WAEC,cAACC,EAAD,UACEjB,EAAOkB,YAAYC,KAAI,SAAAC,GAAC,OACxB,cAAC,EAAD,CAAY7C,OAAQ6C,EAAE7C,OAAQD,KAAM8C,EAAE9C,KAAME,SAAUwB,EAAOqB,uBAA7D,aAA+FD,EAAE9C,YAGnG,cAACgD,EAAD,qBAEA,cAACL,EAAD,UACEjB,EAAOuB,SAASJ,KAAI,SAAAZ,GAAC,OACrB,cAAC,EAAD,CAAYhC,OAAQgC,EAAEhC,OAAQD,KAAMiC,EAAEjC,KAAME,SAAUwB,EAAOqB,uBAA7D,cAAgGd,EAAEjC,mBAUlGgD,GAFS7D,yBAAKsC,GAENlD,IAAO+C,IAAV,MASLd,EAAUjC,IAAO+C,IAAV,KAaPmB,EAAQlE,IAAO2E,GAAV,KAQLP,EAASpE,IAAO+C,IAAV,KAKNoB,EAAqBnE,IAAO+C,IAAV,KAUlBkB,EAAYjE,IAAO+C,IAAV,KAWTb,EAASlC,IAAO+C,IAAV","file":"static/js/5.42dad15e.chunk.js","sourcesContent":["import { memo } from 'react'\nimport styled from 'styled-components'\n\nconst SmallPart = styled.span`\n\tfont-size: 0.8em;\n`\n\nconst Fraction = ({ fraction }) => {\n\tif (!fraction) return null\n\n\tif (fraction.indexOf('/') < 0) return fraction\n\n\tconst splits = fraction.split(' ')\n\tconst hasWhole = fraction.includes(' ')\n\tconst whole = hasWhole ? splits[0] : null\n\tconst numer = hasWhole ? splits[1].split('/')[0] : splits[0].split('/')[0]\n\tconst denom = hasWhole ? splits[1].split('/')[1] : splits[0].split('/')[1]\n\n\treturn (\n\t\t<>\n\t\t\t{whole && `${whole} `}\n\t\t\t<SmallPart>\n\t\t\t\t<sup>{numer}</sup>&frasl;<sub>{denom}</sub>&nbsp;\n\t\t\t</SmallPart>\n\t\t</>\n\t)\n}\n\nexport default memo(Fraction)\n","import React, { memo, useContext } from 'react'\nimport styled from 'styled-components'\n\nimport { getItemDefinition, getItemIcon } from 'loaders/items'\nimport { calculateRate } from 'loaders/recipes'\n\nimport { AppContext } from '../AppContext'\nimport Fraction from './Fraction'\n\nconst imageSize = 30\n\n//\nconst Rate = memo(({ perMinFraction, perMin }) => {\n\tconst [{ fractions }] = useContext(AppContext)\n\treturn <strong>{fractions ? <Fraction fraction={perMinFraction} /> : perMin}</strong>\n})\n\n//\nconst CycleRate = memo(({ perCycle, perCycleLabel }) => {\n\tconst [{ cycleAmount }] = useContext(AppContext)\n\tif (!cycleAmount) return null\n\treturn (\n\t\t<CycleAmount>\n\t\t\t{perCycle}\n\t\t\t{perCycleLabel}\n\t\t</CycleAmount>\n\t)\n})\n\n//\nconst Ingredient = ({ slug, amount, duration }) => {\n\tconst itemDef = getItemDefinition(slug)\n\tconst rate = calculateRate(amount, duration, itemDef.form === 2)\n\n\treturn (\n\t\t<Wrapper key={slug}>\n\t\t\t<Header>\n\t\t\t\t{itemDef.icon ? <Image src={getItemIcon(slug)} alt={itemDef.name} width={imageSize} height={imageSize} /> : null}\n\t\t\t\t<CycleRate perCycleLabel={rate.perCycleLabel} perCycle={rate.perCycle} />\n\t\t\t\t<Name href={`#${slug}`}>{itemDef.name}</Name>\n\t\t\t</Header>\n\t\t\t<Quantity>\n\t\t\t\t<Rate perMin={rate.perMin} perMinFraction={rate.perMinFraction} />\n\t\t\t\t<small>{rate.perMinLabel}</small>\n\t\t\t</Quantity>\n\t\t</Wrapper>\n\t)\n}\n\nexport default memo(Ingredient)\n\nconst Wrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin: 2px 0px;\n\tbackground: #ededed;\n\tpadding: 4px 5px;\n\tborder-radius: 5px;\n`\n\nconst Header = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 12px;\n\tline-height: 1.2;\n`\n\nconst Image = styled.img`\n\tmax-width: 100%;\n\twidth: ${imageSize}px;\n\theight: ${imageSize}px;\n\tmargin-right: 3px;\n`\n\nconst Name = styled.a`\n\tpadding-right: 3px;\n`\n\nconst CycleAmount = styled.span`\n\tmargin-right: 5px;\n`\n\nconst Quantity = styled.div`\n\tline-height: 1.2;\n\twhite-space: nowrap;\n`\n","import React, { memo } from 'react'\nimport styled from 'styled-components'\n\n// const Ingredient = React.lazy(() => import('components/Ingredient'))\nimport Ingredient from 'components/Ingredient'\nimport { getBuildingName } from 'loaders/buildings'\nimport { getRecipeDefinition, handcraftingProducers } from 'loaders/recipes'\n\nconst Recipe = ({ slug }) => {\n\tconst recipe = getRecipeDefinition(slug)\n\n\t// // Remove ore recipes\n\t// if (recipe.ingredients.length === 0) return null\n\n\t// // Garbage\n\t// if (recipe.name.includes('Unpackage')) return null\n\n\tconst validProducers = React.useMemo(() => recipe.producedIn.filter(p => !handcraftingProducers.has(p)), [recipe.producedIn])\n\tif (validProducers.length === 0) return null\n\n\tconst building = getBuildingName(validProducers[0])\n\n\treturn (\n\t\t<Wrapper id={slug}>\n\t\t\t<Header>\n\t\t\t\t<Secondary>&nbsp;</Secondary>\n\t\t\t\t<Title>{recipe.name}</Title>\n\t\t\t\t<Secondary>{building}</Secondary>\n\t\t\t</Header>\n\t\t\t<IngredientsWrapper>\n\t\t\t\t{/* Inputs */}\n\t\t\t\t<Column>\n\t\t\t\t\t{recipe.ingredients.map(i => (\n\t\t\t\t\t\t<Ingredient amount={i.amount} slug={i.slug} duration={recipe.manufacturingDuration} key={`in-${i.slug}`} />\n\t\t\t\t\t))}\n\t\t\t\t</Column>\n\t\t\t\t<Arrow>&#10148;</Arrow>\n\t\t\t\t{/* Outputs */}\n\t\t\t\t<Column>\n\t\t\t\t\t{recipe.products.map(p => (\n\t\t\t\t\t\t<Ingredient amount={p.amount} slug={p.slug} duration={recipe.manufacturingDuration} key={`out-${p.slug}`} />\n\t\t\t\t\t))}\n\t\t\t\t</Column>\n\t\t\t</IngredientsWrapper>\n\t\t</Wrapper>\n\t)\n}\n\nexport default memo(Recipe)\n\nconst Arrow = styled.div`\n\tflex: 0;\n\tmargin: 8px;\n\n\t@media (max-width: 400px) {\n\t\ttransform: rotate(90deg);\n\t}\n`\n\nconst Wrapper = styled.div`\n\tdisplay: flex;\n\tborder: 1px solid #999;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding: 8px;\n\tborder-radius: 5px;\n\tmargin: 4px 0;\n\tpage-break-inside: avoid;\n\tbreak-inside: avoid;\n\tmax-width: 100%;\n`\n\nconst Title = styled.h2`\n\tmargin: 0;\n\ttext-align: center;\n\tfont-size: 16px;\n\tline-height: 1.2;\n\twidth: 100%;\n`\n\nconst Column = styled.div`\n\tflex: 1;\n\twidth: 100%;\n`\n\nconst IngredientsWrapper = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n\n\t@media (max-width: 400px) {\n\t\tflex-direction: column;\n\t}\n`\n\nconst Secondary = styled.div`\n\tflex: 1 1 20%;\n\ttext-align: right;\n\tfont-size: 11px;\n\tfont-style: italic;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tdisplay: flex;\n\tcolor: #444;\n`\n\nconst Header = styled.div`\n\tdisplay: flex;\n\tmargin-bottom: 4px;\n\twidth: 100%;\n`\n"],"sourceRoot":""}