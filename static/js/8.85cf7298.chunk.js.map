{"version":3,"sources":["components/RemoveIcon.js","components/Resource.js"],"names":["RemoveIcon","slug","useContext","AppContext","dispatch","handleClick","useCallback","type","ActionType","REMOVE_PRODUCT","Sentry","category","message","level","Info","Wrapper","onClick","className","title","memo","styled","span","Recipe","React","lazy","imageSize","Resource","product","getItemDefinition","recipeSlugs","getRecipesByItemProduct","sortedSlugs","sortRecipesByName","recipes","useMemo","filter","getRecipeDefinition","producedIn","p","handcraftingProducers","has","length","iconSrc","getItemIcon","Header","id","Details","Title","name","Description","description","Image","alt","src","width","height","map","key","div","h1","img","props"],"mappings":"qfAMA,IAAMA,EAAa,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAAW,EACXC,qBAAWC,KAAvBC,EADuB,oBAG1BC,EAAcC,uBAAY,WAC/BF,EAAS,CAAEG,KAAMC,IAAWC,eAAgBR,SAE5CS,IAAqB,CACpBC,SAAU,kBACVC,QAAQ,YAAD,OAAcX,GACrBY,MAAOH,IAAgBI,SAEtB,CAACV,EAAUH,IAEd,OACC,cAACc,EAAD,CAASC,QAASX,EAAlB,SACC,mBAAGY,UAAU,sBAAsBC,MAAM,cAK7BC,iBAAKnB,GAEde,EAAUK,IAAOC,KAAV,K,o5BCnBb,IAAMC,EAASC,IAAMC,MAAK,kBAAM,gCAE1BC,EAAY,IAEZC,EAAW,SAAC,GAAc,IAAZzB,EAAW,EAAXA,KAEb0B,EAAUC,YAAkB3B,GAE5B4B,EAAcC,YAAwB7B,GAEtC8B,EAAcC,YAAkBH,GAIhCI,EAAUV,IAAMW,SAAQ,WAC7B,OAAOH,EAAYI,QAAO,SAAAlC,GAIzB,OAA8B,IAHfmC,YAAoBnC,GAELoC,WAAWF,QAAO,SAAAG,GAAC,OAAKC,IAAsBC,IAAIF,MAC7DG,YAMlB,CAACV,IAEJ,GAAuB,IAAnBE,EAAQQ,OAAc,OAAO,KAEjC,IAAMC,EAAUC,YAAY1C,GAE5B,OACC,qCACC,eAAC2C,EAAD,CAAQC,GAAI5C,EAAZ,UACC,eAAC6C,EAAD,WACC,eAACC,EAAD,WACEpB,EAAQqB,KADV,IACgB,cAAC,EAAD,CAAY/C,KAAMA,OAElC,cAACgD,EAAD,UAActB,EAAQuB,iBAEtBR,GAAW,cAACS,EAAD,CAAOC,IAAKzB,EAAQqB,KAAMK,IAAKX,EAASY,MAAO7B,EAAW8B,OAAQ9B,OAE/E,8BACEQ,EAAQuB,KAAI,SAAAC,GAAG,OACf,cAACnC,EAAD,CAAQrB,KAAMwD,GAAUA,YASvBb,GAFSzB,yBAAKO,GAELN,IAAOsC,IAAV,MAMNZ,EAAU1B,IAAOsC,IAAV,KAIPX,EAAQ3B,IAAOuC,GAAV,KAaLV,EAAc7B,IAAOsC,IAAV,KAUXP,EAAQ/B,IAAOwC,IAAV,KACC,SAAAC,GAAK,OAAKA,EAAMR,IAAM,UAAY,SAEpC5B,EACCA","file":"static/js/8.85cf7298.chunk.js","sourcesContent":["import React, { memo, useCallback, useContext } from 'react'\nimport * as Sentry from '@sentry/react'\nimport styled from 'styled-components'\n\nimport { ActionType, AppContext } from '../AppContext'\n\nconst RemoveIcon = ({ slug }) => {\n\tconst [, dispatch] = useContext(AppContext)\n\n\tconst handleClick = useCallback(() => {\n\t\tdispatch({ type: ActionType.REMOVE_PRODUCT, slug })\n\n\t\tSentry.addBreadcrumb({\n\t\t\tcategory: 'product-removed',\n\t\t\tmessage: `Removed: ${slug}`,\n\t\t\tlevel: Sentry.Severity.Info,\n\t\t})\n\t}, [dispatch, slug])\n\n\treturn (\n\t\t<Wrapper onClick={handleClick}>\n\t\t\t<i className=\"fas fa-times-circle\" title=\"Remove\" />\n\t\t</Wrapper>\n\t)\n}\n\nexport default memo(RemoveIcon)\n\nconst Wrapper = styled.span`\n\tfont-size: 16px;\n\tmargin-left: 8px;\n\tmargin-right: 8px;\n\t:hover {\n\t\tcolor: red;\n\t}\n\t@media (max-width: 400px) {\n\t\tdisplay: none;\n\t}\n\n\t@media print {\n\t\tdisplay: none;\n\t}\n`\n","import React, { memo } from 'react'\nimport styled from 'styled-components'\n\nimport { getItemDefinition, getItemIcon } from 'loaders/items'\nimport { getRecipeDefinition, getRecipesByItemProduct, handcraftingProducers, sortRecipesByName } from 'loaders/recipes'\n\n// import Recipe from './Recipe'\nimport RemoveIcon from './RemoveIcon'\n\nconst Recipe = React.lazy(() => import('components/Recipe'))\n\nconst imageSize = 100\n\nconst Resource = ({ slug }) => {\n\t// const slug = 'item-iron-screw'\n\tconst product = getItemDefinition(slug)\n\n\tconst recipeSlugs = getRecipesByItemProduct(slug)\n\n\tconst sortedSlugs = sortRecipesByName(recipeSlugs)\n\n\t// TODO REDUCE THIS!!!\n\t// Why do it once when you can do it TWICE!!!\n\tconst recipes = React.useMemo(() => {\n\t\treturn sortedSlugs.filter(slug => {\n\t\t\tconst recipe = getRecipeDefinition(slug)\n\n\t\t\tconst validProducers = recipe.producedIn.filter(p => !handcraftingProducers.has(p))\n\t\t\tif (validProducers.length === 0) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\treturn true\n\t\t})\n\t}, [sortedSlugs])\n\n\tif (recipes.length === 0) return null\n\n\tconst iconSrc = getItemIcon(slug)\n\n\treturn (\n\t\t<>\n\t\t\t<Header id={slug}>\n\t\t\t\t<Details>\n\t\t\t\t\t<Title>\n\t\t\t\t\t\t{product.name} <RemoveIcon slug={slug} />\n\t\t\t\t\t</Title>\n\t\t\t\t\t<Description>{product.description}</Description>\n\t\t\t\t</Details>\n\t\t\t\t{iconSrc && <Image alt={product.name} src={iconSrc} width={imageSize} height={imageSize} />}\n\t\t\t</Header>\n\t\t\t<div>\n\t\t\t\t{recipes.map(key => (\n\t\t\t\t\t<Recipe slug={key} key={key} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default memo(Resource)\n\nconst Header = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n`\n\nconst Details = styled.div`\n\twidth: 100%;\n`\n\nconst Title = styled.h1`\n\tmargin-top: 0;\n\tmargin-bottom: 12px;\n\tdisplay: block;\n\tline-height: 1.2;\n\tdisplay: flex;\n\talign-items: center;\n\n\t@media (max-width: 400px) {\n\t\tfont-size: 24px;\n\t}\n`\n\nconst Description = styled.div`\n\tfont-size: 12px;\n\tmargin-right: 16px;\n\tline-height: 1.5;\n\n\t@media (max-width: 400px) {\n\t\tdisplay: none;\n\t}\n`\n\nconst Image = styled.img`\n\tdisplay: ${props => (props.src ? 'inherit' : 'none')};\n\tmax-width: 100%;\n\twidth: ${imageSize}px;\n\theight: ${imageSize}px;\n\tpadding: 8px;\n\tborder-radius: 5px;\n\tmargin-bottom: 4px;\n\tborder: 1px solid #999;\n`\n"],"sourceRoot":""}