{"version":3,"sources":["components/Fraction.js","components/Ingredient.js","components/Recipe.js","components/RemoveIcon.js","components/Resource.js"],"names":["SmallPart","styled","span","Fraction","fraction","indexOf","splits","split","hasWhole","includes","whole","numer","denom","memo","Rate","perMinFraction","perMin","useContext","AppContext","fractions","RateMemo","CycleRate","perCycle","perCycleLabel","cycleAmount","CycleAmount","CycleRateMemo","Ingredient","slug","amount","duration","itemDef","getItemDefinition","rate","calculateRate","form","Wrapper","Header","icon","Image","src","getItemIcon","alt","name","width","height","Name","href","Quantity","perMinLabel","div","img","a","Recipe","recipe","getRecipeDefinition","validProducers","React","useMemo","producedIn","filter","p","handcraftingProducers","has","length","building","getBuildingName","id","Secondary","Title","IngredientsWrapper","Column","ingredients","map","i","manufacturingDuration","Arrow","products","h2","RemoveIcon","dispatch","handleClick","useCallback","type","ActionType","REMOVE_PRODUCT","onClick","className","title","imageSize","Resource","product","recipeSlugs","getRecipesByItemProduct","sortedSlugs","sortRecipesByName","recipes","iconSrc","Details","Description","description","key","h1","props"],"mappings":"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","file":"static/js/4.ae8d3c7e.chunk.js","sourcesContent":["import { memo } from 'react'\nimport styled from 'styled-components'\n\nconst SmallPart = styled.span`\n\tfont-size: 0.8em;\n`\n\nconst Fraction = ({ fraction }) => {\n\tif (!fraction) return null\n\n\tif (fraction.indexOf('/') < 0) return fraction\n\n\tconst splits = fraction.split(' ')\n\tconst hasWhole = fraction.includes(' ')\n\tconst whole = hasWhole ? splits[0] : null\n\tconst numer = hasWhole ? splits[1].split('/')[0] : splits[0].split('/')[0]\n\tconst denom = hasWhole ? splits[1].split('/')[1] : splits[0].split('/')[1]\n\n\treturn (\n\t\t<>\n\t\t\t{whole && `${whole} `}\n\t\t\t<SmallPart>\n\t\t\t\t<sup>{numer}</sup>&frasl;<sub>{denom}</sub>&nbsp;\n\t\t\t</SmallPart>\n\t\t</>\n\t)\n}\n\nexport default memo(Fraction)\n","import React, { memo, useContext } from 'react'\nimport styled from 'styled-components'\n\nimport { getItemDefinition, getItemIcon } from 'loaders/items'\nimport { calculateRate } from 'loaders/recipes'\n\nimport { AppContext } from '../AppContext'\nimport Fraction from './Fraction'\n\nconst imageSize = 30\n\n//\nconst Rate = ({ perMinFraction, perMin }) => {\n\tconst [{ fractions }] = useContext(AppContext)\n\treturn <strong>{fractions ? <Fraction fraction={perMinFraction} /> : perMin}</strong>\n}\nconst RateMemo = memo(Rate)\n\n//\nconst CycleRate = ({ perCycle, perCycleLabel }) => {\n\tconst [{ cycleAmount }] = useContext(AppContext)\n\tif (!cycleAmount) return null\n\treturn (\n\t\t<CycleAmount>\n\t\t\t{perCycle}\n\t\t\t{perCycleLabel}\n\t\t</CycleAmount>\n\t)\n}\nconst CycleRateMemo = memo(CycleRate)\n\n//\nconst Ingredient = ({ slug, amount, duration }) => {\n\tconst itemDef = getItemDefinition(slug)\n\tconst rate = calculateRate(amount, duration, itemDef.form === 2)\n\n\treturn (\n\t\t<Wrapper key={slug}>\n\t\t\t<Header>\n\t\t\t\t{itemDef.icon ? (\n\t\t\t\t\t<Image src={getItemIcon(slug)} alt={itemDef.name} width={imageSize} height={imageSize} />\n\t\t\t\t) : null}\n\t\t\t\t<CycleRateMemo perCycleLabel={rate.perCycleLabel} perCycle={rate.perCycle} />\n\t\t\t\t<Name href={`#${slug}`}>{itemDef.name}</Name>\n\t\t\t</Header>\n\t\t\t<Quantity>\n\t\t\t\t<RateMemo perMin={rate.perMin} perMinFraction={rate.perMinFraction} />\n\t\t\t\t<small>{rate.perMinLabel}</small>\n\t\t\t</Quantity>\n\t\t</Wrapper>\n\t)\n}\n\nexport default memo(Ingredient)\n\nconst Wrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin: 2px 0px;\n\tbackground: #ededed;\n\tpadding: 4px 5px;\n\tborder-radius: 5px;\n`\n\nconst Header = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 12px;\n\tline-height: 1.2;\n`\n\nconst Image = styled.img`\n\tmax-width: 100%;\n\twidth: ${imageSize}px;\n\theight: ${imageSize}px;\n\tmargin-right: 3px;\n`\n\nconst Name = styled.a`\n\tpadding-right: 3px;\n`\n\nconst CycleAmount = styled.span`\n\tmargin-right: 5px;\n`\n\nconst Quantity = styled.div`\n\tline-height: 1.2;\n\twhite-space: nowrap;\n`\n","import React, { memo } from 'react'\nimport styled from 'styled-components'\n\nimport { getBuildingName } from 'loaders/buildings'\nimport { getRecipeDefinition, handcraftingProducers } from 'loaders/recipes'\n\nimport Ingredient from './Ingredient'\n\nconst Recipe = ({ slug }) => {\n\tconst recipe = getRecipeDefinition(slug)\n\n\t// // Remove ore recipes\n\t// if (recipe.ingredients.length === 0) return null\n\n\t// // Garbage\n\t// if (recipe.name.includes('Unpackage')) return null\n\n\tconst validProducers = React.useMemo(() => recipe.producedIn.filter(p => !handcraftingProducers.has(p)), [recipe.producedIn])\n\tif (validProducers.length === 0) return null\n\n\tconst building = getBuildingName(validProducers[0])\n\n\treturn (\n\t\t<Wrapper id={slug}>\n\t\t\t<Header>\n\t\t\t\t<Secondary>&nbsp;</Secondary>\n\t\t\t\t<Title>{recipe.name}</Title>\n\t\t\t\t<Secondary>{building}</Secondary>\n\t\t\t</Header>\n\t\t\t<IngredientsWrapper>\n\t\t\t\t{/* Inputs */}\n\t\t\t\t<Column>\n\t\t\t\t\t{recipe.ingredients.map(i => (\n\t\t\t\t\t\t<Ingredient amount={i.amount} slug={i.slug} duration={recipe.manufacturingDuration} key={`in-${i.slug}`} />\n\t\t\t\t\t))}\n\t\t\t\t</Column>\n\t\t\t\t<Arrow>&#10148;</Arrow>\n\t\t\t\t{/* Outputs */}\n\t\t\t\t<Column>\n\t\t\t\t\t{recipe.products.map(p => (\n\t\t\t\t\t\t<Ingredient amount={p.amount} slug={p.slug} duration={recipe.manufacturingDuration} key={`out-${p.slug}`} />\n\t\t\t\t\t))}\n\t\t\t\t</Column>\n\t\t\t</IngredientsWrapper>\n\t\t</Wrapper>\n\t)\n}\n\nexport default memo(Recipe)\n\nconst Arrow = styled.div`\n\tflex: 0;\n\tmargin: 8px;\n\n\t@media (max-width: 400px) {\n\t\ttransform: rotate(90deg);\n\t}\n`\n\nconst Wrapper = styled.div`\n\tdisplay: flex;\n\tborder: 1px solid #999;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding: 8px;\n\tborder-radius: 5px;\n\tmargin: 4px 0;\n\tpage-break-inside: avoid;\n\tbreak-inside: avoid;\n\tmax-width: 100%;\n`\n\nconst Title = styled.h2`\n\tmargin: 0;\n\ttext-align: center;\n\tfont-size: 16px;\n\tline-height: 1.2;\n\twidth: 100%;\n`\n\nconst Column = styled.div`\n\tflex: 1;\n\twidth: 100%;\n`\n\nconst IngredientsWrapper = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n\n\t@media (max-width: 400px) {\n\t\tflex-direction: column;\n\t}\n`\n\nconst Secondary = styled.div`\n\tflex: 1 1 20%;\n\ttext-align: right;\n\tfont-size: 11px;\n\tfont-style: italic;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tdisplay: flex;\n\tcolor: #444;\n`\n\nconst Header = styled.div`\n\tdisplay: flex;\n\tmargin-bottom: 4px;\n\twidth: 100%;\n`\n","import React, { memo, useCallback, useContext } from 'react'\nimport styled from 'styled-components'\n\nimport { ActionType, AppContext } from '../AppContext'\n\nconst RemoveIcon = ({ slug }) => {\n\tconst [, dispatch] = useContext(AppContext)\n\n\tconst handleClick = useCallback(() => dispatch({ type: ActionType.REMOVE_PRODUCT, slug }), [\n\t\tdispatch,\n\t\tslug,\n\t])\n\n\treturn (\n\t\t<Wrapper onClick={handleClick}>\n\t\t\t<i className=\"fas fa-times-circle\" title=\"Remove\" />\n\t\t</Wrapper>\n\t)\n}\n\nexport default memo(RemoveIcon)\n\nconst Wrapper = styled.span`\n\tfont-size: 16px;\n\tmargin-left: 8px;\n\tmargin-right: 8px;\n\t:hover {\n\t\tcolor: red;\n\t}\n\t@media (max-width: 400px) {\n\t\tdisplay: none;\n\t}\n\n\t@media print {\n\t\tdisplay: none;\n\t}\n`\n","import React, { memo } from 'react'\nimport styled from 'styled-components'\n\nimport { getItemDefinition, getItemIcon } from 'loaders/items'\nimport { getRecipeDefinition, getRecipesByItemProduct, handcraftingProducers, sortRecipesByName } from 'loaders/recipes'\n\nimport Recipe from './Recipe'\nimport RemoveIcon from './RemoveIcon'\n\nconst imageSize = 100\n\nconst Resource = ({ slug }) => {\n\t// const slug = 'item-iron-screw'\n\tconst product = getItemDefinition(slug)\n\n\tconst recipeSlugs = getRecipesByItemProduct(slug)\n\n\tconst sortedSlugs = sortRecipesByName(recipeSlugs)\n\n\t// TODO REDUCE THIS!!!\n\t// Why do it once when you can do it TWICE!!!\n\tconst recipes = React.useMemo(() => {\n\t\treturn sortedSlugs.filter(slug => {\n\t\t\tconst recipe = getRecipeDefinition(slug)\n\n\t\t\tconst validProducers = recipe.producedIn.filter(p => !handcraftingProducers.has(p))\n\t\t\tif (validProducers.length === 0) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\treturn true\n\t\t})\n\t}, [sortedSlugs])\n\n\tif (recipes.length === 0) return null\n\n\tconst iconSrc = getItemIcon(slug)\n\n\treturn (\n\t\t<>\n\t\t\t<Header id={slug}>\n\t\t\t\t<Details>\n\t\t\t\t\t<Title>\n\t\t\t\t\t\t{product.name} <RemoveIcon slug={slug} />\n\t\t\t\t\t</Title>\n\t\t\t\t\t<Description>{product.description}</Description>\n\t\t\t\t</Details>\n\t\t\t\t{iconSrc && <Image alt={product.name} src={iconSrc} width={imageSize} height={imageSize} />}\n\t\t\t</Header>\n\t\t\t<div>\n\t\t\t\t{recipes.map(key => (\n\t\t\t\t\t<Recipe slug={key} key={key} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default memo(Resource)\n\nconst Header = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n`\n\nconst Details = styled.div`\n\twidth: 100%;\n`\n\nconst Title = styled.h1`\n\tmargin-top: 0;\n\tmargin-bottom: 12px;\n\tdisplay: block;\n\tline-height: 1.2;\n\tdisplay: flex;\n\talign-items: center;\n\n\t@media (max-width: 400px) {\n\t\tfont-size: 24px;\n\t}\n`\n\nconst Description = styled.div`\n\tfont-size: 12px;\n\tmargin-right: 16px;\n\tline-height: 1.5;\n\n\t@media (max-width: 400px) {\n\t\tdisplay: none;\n\t}\n`\n\nconst Image = styled.img`\n\tdisplay: ${props => (props.src ? 'inherit' : 'none')};\n\tmax-width: 100%;\n\twidth: ${imageSize}px;\n\theight: ${imageSize}px;\n\tpadding: 8px;\n\tborder-radius: 5px;\n\tmargin-bottom: 4px;\n\tborder: 1px solid #999;\n`\n"],"sourceRoot":""}